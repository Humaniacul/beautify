image: "r8.im/humaniacul/stable-makeup-replicate"

build:
  gpu: true
  python_version: "3.10"
  python_packages:
    # Core ML packages - optimized versions
    - torch==2.0.1+cu118 --index-url https://download.pytorch.org/whl/cu118
    - torchvision==0.15.2+cu118 --index-url https://download.pytorch.org/whl/cu118
    - diffusers==0.21.4
    - transformers==4.33.2
    - accelerate==0.23.0
    - opencv-python-headless==4.8.1.78
    - Pillow==10.0.0
    - numpy==1.24.3
    - mediapipe==0.10.8
    - facexlib==0.3.0
    - spiga==0.0.6
    - requests==2.31.0
  system_packages:
    - libgl1-mesa-glx
    - libglib2.0-0
    - libsm6
    - libxext6
    - libxrender-dev
    - libgomp1
    - ffmpeg
    - git

predict: "predict.py:Predictor" 